const emojiMatrix: string[][] = [
  ["🍎","🍏","🍊","🍋","🍌","🍍","🍑","🍒","🍓","🍅","🍇","🍈","🍉","🍔","🍕","🍖"],
  ["🍗","🍙","🍚","🍛","🍜","🍝","🍞","🍟","🍠","🍡","🍢","🍣","🍤","🍥","🍦","🍧"],
  ["🍨","🍩","🍪","🍫","🍬","🍭","🍮","🍯","🍰","🍱","🍲","🍳","🍴","🍵","🍷","🍸"],
  ["🍺","🍻","🍼","🎀","🎁","🎂","🎃","🎄","🎅","🎆","🎈","🎉","🎋","🎌","🎍","🎎"],
  ["🎏","🎐","🎑","🎒","🎓","🎠","🎡","🎢","🎣","🎤","🎥","🎧","🎨","🎩","🎪","🎫"],
  ["🎬","🎭","🎮","🎯","🎰","🎱","🎲","🎳","🎴","🎵","🎶","🎷","🎸","🎺","🎻","🎼"],
  ["🏀","🏁","🏂","🏃","🏄","🏅","🏆","🏇","🏈","🏉","🏊","🏋","🏌","🏏","🏐","🏑"],
  ["🏒","🏓","🏡","🏢","🏣","🏥","🏦","🏧","🏨","🏩","🏪","🏫","🏬","🏭","🏮","🏯"],
  ["🏰","🐀","🐁","🐂","🐃","🐄","🐅","🐆","🐇","🐈","🐉","🐊","🐋","🐌","🐍","🐎"],
  ["🐏","🐐","🐑","🐒","🐓","🐔","🐕","🐖","🐗","🐘","🐙","🐚","🐛","🐜","🐝","🐞"],
  ["🐟","🐠","🐡","🐢","🐣","🐤","🐥","🐦","🐧","🐨","🐩","🐪","🐫","🐬","🐯","🐰"],
  ["🐲","🐳","🐴","🐶","🐷","🐸","🐹","🐺","🐻","🐼","🐽","👀","👁","👂","👃","👄"],
  ["👅","👆","👇","👈","👉","👊","👋","👌","👍","👎","👏","👐","👑","👒","👓","👔"],
  ["👕","👖","👗","👘","👙","👚","👛","👜","👞","👟","👠","👡","👢","👣","👤","👥"],
  ["👨","👮","👯","👰","👱","👲","👳","👴","👶","👷","👸","👹","👺","👻","👼","👽"],
  ["💀","💁","💂","💃","💄","💅","💈","💉","💋","💌","💍","💎","💏","💐","💑","💒"]
];

export function emojiSha(hexStr: string): string {
  // Check for non-hexadecimal characters
  if (!/^[0-9a-fA-F]*$/.test(hexStr)) {
      throw new Error("Input contains non-hexadecimal characters.");
  }

  // Prepend a "0" if the length is odd
  if (hexStr.length % 2 !== 0) {
      hexStr = '0' + hexStr;
  }

  let result = '';
  for (let i = 0; i < hexStr.length; i += 2) {
      const row = parseInt(hexStr[i], 16);
      const col = parseInt(hexStr[i + 1], 16);

      if (!emojiMatrix[row] || !emojiMatrix[row][col]) {
          throw new Error(`Invalid hex character detected at position ${i}: ${hexStr[i]}${hexStr[i+1]}`);
      }

      result += emojiMatrix[row][col];
  }

  return result;
}
