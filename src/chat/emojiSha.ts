const emojiMatrix: string[][] = [
  ["ğŸ","ğŸ","ğŸŠ","ğŸ‹","ğŸŒ","ğŸ","ğŸ‘","ğŸ’","ğŸ“","ğŸ…","ğŸ‡","ğŸˆ","ğŸ‰","ğŸ”","ğŸ•","ğŸ–"],
  ["ğŸ—","ğŸ™","ğŸš","ğŸ›","ğŸœ","ğŸ","ğŸ","ğŸŸ","ğŸ ","ğŸ¡","ğŸ¢","ğŸ£","ğŸ¤","ğŸ¥","ğŸ¦","ğŸ§"],
  ["ğŸ¨","ğŸ©","ğŸª","ğŸ«","ğŸ¬","ğŸ­","ğŸ®","ğŸ¯","ğŸ°","ğŸ±","ğŸ²","ğŸ³","ğŸ´","ğŸµ","ğŸ·","ğŸ¸"],
  ["ğŸº","ğŸ»","ğŸ¼","ğŸ€","ğŸ","ğŸ‚","ğŸƒ","ğŸ„","ğŸ…","ğŸ†","ğŸˆ","ğŸ‰","ğŸ‹","ğŸŒ","ğŸ","ğŸ"],
  ["ğŸ","ğŸ","ğŸ‘","ğŸ’","ğŸ“","ğŸ ","ğŸ¡","ğŸ¢","ğŸ£","ğŸ¤","ğŸ¥","ğŸ§","ğŸ¨","ğŸ©","ğŸª","ğŸ«"],
  ["ğŸ¬","ğŸ­","ğŸ®","ğŸ¯","ğŸ°","ğŸ±","ğŸ²","ğŸ³","ğŸ´","ğŸµ","ğŸ¶","ğŸ·","ğŸ¸","ğŸº","ğŸ»","ğŸ¼"],
  ["ğŸ€","ğŸ","ğŸ‚","ğŸƒ","ğŸ„","ğŸ…","ğŸ†","ğŸ‡","ğŸˆ","ğŸ‰","ğŸŠ","ğŸ‹","ğŸŒ","ğŸ","ğŸ","ğŸ‘"],
  ["ğŸ’","ğŸ“","ğŸ¡","ğŸ¢","ğŸ£","ğŸ¥","ğŸ¦","ğŸ§","ğŸ¨","ğŸ©","ğŸª","ğŸ«","ğŸ¬","ğŸ­","ğŸ®","ğŸ¯"],
  ["ğŸ°","ğŸ€","ğŸ","ğŸ‚","ğŸƒ","ğŸ„","ğŸ…","ğŸ†","ğŸ‡","ğŸˆ","ğŸ‰","ğŸŠ","ğŸ‹","ğŸŒ","ğŸ","ğŸ"],
  ["ğŸ","ğŸ","ğŸ‘","ğŸ’","ğŸ“","ğŸ”","ğŸ•","ğŸ–","ğŸ—","ğŸ˜","ğŸ™","ğŸš","ğŸ›","ğŸœ","ğŸ","ğŸ"],
  ["ğŸŸ","ğŸ ","ğŸ¡","ğŸ¢","ğŸ£","ğŸ¤","ğŸ¥","ğŸ¦","ğŸ§","ğŸ¨","ğŸ©","ğŸª","ğŸ«","ğŸ¬","ğŸ¯","ğŸ°"],
  ["ğŸ²","ğŸ³","ğŸ´","ğŸ¶","ğŸ·","ğŸ¸","ğŸ¹","ğŸº","ğŸ»","ğŸ¼","ğŸ½","ğŸ‘€","ğŸ‘","ğŸ‘‚","ğŸ‘ƒ","ğŸ‘„"],
  ["ğŸ‘…","ğŸ‘†","ğŸ‘‡","ğŸ‘ˆ","ğŸ‘‰","ğŸ‘Š","ğŸ‘‹","ğŸ‘Œ","ğŸ‘","ğŸ‘","ğŸ‘","ğŸ‘","ğŸ‘‘","ğŸ‘’","ğŸ‘“","ğŸ‘”"],
  ["ğŸ‘•","ğŸ‘–","ğŸ‘—","ğŸ‘˜","ğŸ‘™","ğŸ‘š","ğŸ‘›","ğŸ‘œ","ğŸ‘","ğŸ‘Ÿ","ğŸ‘ ","ğŸ‘¡","ğŸ‘¢","ğŸ‘£","ğŸ‘¤","ğŸ‘¥"],
  ["ğŸ‘¨","ğŸ‘®","ğŸ‘¯","ğŸ‘°","ğŸ‘±","ğŸ‘²","ğŸ‘³","ğŸ‘´","ğŸ‘¶","ğŸ‘·","ğŸ‘¸","ğŸ‘¹","ğŸ‘º","ğŸ‘»","ğŸ‘¼","ğŸ‘½"],
  ["ğŸ’€","ğŸ’","ğŸ’‚","ğŸ’ƒ","ğŸ’„","ğŸ’…","ğŸ’ˆ","ğŸ’‰","ğŸ’‹","ğŸ’Œ","ğŸ’","ğŸ’","ğŸ’","ğŸ’","ğŸ’‘","ğŸ’’"]
];

export function emojiSha(hexStr: string): string {
  // Check for non-hexadecimal characters
  if (!/^[0-9a-fA-F]*$/.test(hexStr)) {
      throw new Error("Input contains non-hexadecimal characters.");
  }

  // Prepend a "0" if the length is odd
  if (hexStr.length % 2 !== 0) {
      hexStr = '0' + hexStr;
  }

  let result = '';
  for (let i = 0; i < hexStr.length; i += 2) {
      const row = parseInt(hexStr[i], 16);
      const col = parseInt(hexStr[i + 1], 16);

      if (!emojiMatrix[row] || !emojiMatrix[row][col]) {
          throw new Error(`Invalid hex character detected at position ${i}: ${hexStr[i]}${hexStr[i+1]}`);
      }

      result += emojiMatrix[row][col];
  }

  return result;
}
